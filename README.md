# Конкурс для тестировщиков от Digital агентства Победа
## Задание
Вопросы по заданию
Преподаватель: Екатерина Лугано
Компания-партнёр Нетологии «Digital агентства Победа» предлагает присоединиться к новой активности в тестировании продукта - интеллектуальной системы на базе ИИ!

Digital агентства Победа - команда профессионалов, которая делает продвижение бизнеса в digital результативным и понятным через грамотную стратегию, инновации и креатив.

Кто может принять участие:

Студенты и выпускники курса Тестировщик (Инженер по тестированию).

По результатам конкурса авторы лучших решений получат возможность пройти отбора на стажировку в Digital агентство Победа! Это уникальная возможность получить практический опыт в реальном проекте с современным технологическим стеком.

Задание для тестировщиков в проект "Эго"

Цель: Оценить ваше умение анализировать интерфейс, находить проблемы и составлять тестовые сценарии на основе реального кода системы.

Исходные данные:
Перед вами HTML-код интерфейса “Поток” системы “Эго” - страницы, где модераторы подтверждают или редактируют автоматически сгенерированные ответы ботов.

## Часть 1: Анализ интерфейса и составление чек-листа
### Задача 1:
Изучите предоставленный HTML-код интерфейса “Поток” и составьте
структурированный чек-лист для проверки основного функционала. Чек-лист должен включать:

Вкладки и навигация
Фильтрация и сортировка
Поиск по ключевым словам
Управление ответами (подтверждение/редактирование/отклонение)
Экстренная остановка ботов
Настройки системы
Адаптивность и отображение на мобильных устройствах
Пример:

Проверить переключение между вкладками “Все”, “Комментарии”, “Отзывы”
Проверить фильтрацию по платформам (ВК, Telegram, 2GIS, Яндекс)
Проверить сортировку “Сначала новые”/“Сначала старые”
Проверить работу поиска с различными ключевыми словами
…

## Ответ:

## Часть 1: Структурированный чек-лист для тестирования

### `1. Общие элементы, навигация и баланс`

| № | Описание проверки | Тип | Особенности |
|---|---|---|---|
| 1.1 | Проверить корректность отображения баланса и ссылки на историю баланса. | Функциональный | Ссылки ведут на `/balance_history` и `/responded_comments`. |
| 1.2 | Проверить работоспособность кнопки "Выход" (`/logout`). | Функциональный | |
| 1.3 | Переключение между вкладками: "Все", "Комментарии", "Отзывы". | Функциональный | Проверить выделение активной вкладки. |
| 1.4 | Проверить сохранение активной вкладки после перезагрузки страницы (используется `localStorage`). | Функциональный | |
| 1.5 | Проверить актуальность счетчиков (`badge`) на вкладках при загрузке и их автоматическое обновление. | Функциональный | Обновление через AJAX/WebSocket. |

### `2. Фильтрация и сортировка`

| № | Описание проверки | Вкладка | Платформы |
|---|---|---|---|
| 2.1 | Проверить сортировку "Сначала новые" (order=desc). | Все, Комментарии, Отзывы | Общая |
| 2.2 | Проверить сортировку "Сначала старые" (order=asc). | Все, Комментарии, Отзывы | Общая |
| 2.3 | Фильтрация комментариев по платформе "ВКонтакте" и "Telegram". | Комментарии | `data-platform` атрибут. |
| 2.4 | Фильтрация отзывов по платформе "2GIS" и "Яндекс". | Отзывы | `data-platform` атрибут. |
| 2.5 | Проверить корректность счетчиков платформ. | Комментарии, Отзывы | Обновление через `updateAllFilterCounts`. |
| 2.6 | Проверить сброс фильтрации через кнопку "Все" в группах фильтров. | Комментарии, Отзывы | |

### `3. Поиск по ключевым словам (Клиентская логика)`

| № | Описание проверки | Тип | Критичность |
|---|---|---|---|
| 3.1 | Проверить отображение/скрытие поля поиска по кнопке "Поиск". | Функциональный/UI | Кнопка должна менять текст на "Скрыть". |
| 3.2 | Проверить работу клиентского поиска с ключевыми словами и фразами. | Функциональный | Поиск нечувствителен к регистру. |
| 3.3 | Проверить корректность подсветки найденных слов (`.search-highlight`). | UI/Визуальный | Подсветка должна работать в `.text-content` и `.alert-secondary`. |
| 3.4 | Проверить, что кнопка "Очистить" сбрасывает поиск, скрывается и восстанавливает полный список. | Функциональный | |
| 3.5 | **Критический:** Убедиться, что при вводе текста в поиск, WebSocket-обновления немедленно останавливаются. | Функциональный | Проверить вызов `stopWebSocketUpdates()`. |
| 3.6 | **Критический:** Убедиться, что при очистке/скрытии поиска, WebSocket-обновления возобновляются. | Функциональный | Проверить вызов `startWebSocketUpdates()`. |
| 3.7 | Проверить, что при переключении между вкладками, поиск на других вкладках автоматически сбрасывается/скрывается. | Функциональный | |

### `4. Управление ответами (Подтверждение/Редактирование/Отклонение)`

| № | Описание проверки | Действие | Результат |
|---|---|---|---|
| 4.1 | Подтверждение ответа. | `approveResponse` | Элемент удален, счетчики обновлены. |
| 4.2 | Отклонение ответа. | `rejectResponse` | Элемент удален, счетчики обновлены. |
| 4.3 | Включение режима редактирования. | `toggleEditForm` | Появляется `textarea`, `edit_` флаг установлен в 1. |
| 4.4 | Блокировка обновлений во время редактирования. | Режим редактирования активен. | WebSocket и 30-сек интервал остановлены. |
| 4.5 | Сохранение отредактированного ответа. | `saveEdit` | Обновляется текст, кнопка "Подтвердить" получает `data-approved="3"`. |
| 4.6 | Отмена редактирования. | `cancelEdit` | Восстанавливается исходный текст, возобновляются обновления. |
| 4.7 | Попытка сохранить пустой ответ. | `saveEdit` с пустым полем. | Отображается JS-алерт о недопустимости пустого ответа. |
| 4.8 | Проверить, что подтверждение отредактированного ответа (`data-approved="3"`) отправляет измененный текст на сервер. | Функциональный | |
| 4.9 | Проверить блокировку кнопок во время выполнения запроса. | Функциональный | Предотвращение двойного клика. |

### `5. Экстренная остановка ботов`

| № | Описание проверки | Переключатель | API-вызов |
|---|---|---|---|
| 5.1 | Остановка ботов. | Включить | Два запроса `/stop/.../bot` и `/stop/.../vk_bot`. |
| 5.2 | Запуск ботов. | Выключить | Два запроса `/start/.../bot` и `/start/.../vk_bot`. |
| 5.3 | Визуальная индикация остановки. | Включен | Красный цвет переключателя. |
| 5.4 | Обработка ошибок API. | Любое изменение | Должен появиться alert, переключатель должен откатиться. |

### `6. Настройки системы`

| № | Описание проверки | Сервис | Логика |
|---|---|---|---|
| 6.1 | Проверить разворачивание/сворачивание настроек сервиса. | Все | Управление классом `expanded`. |
| 6.2 | Проверить логику ВК: автономный режим (чекбокс `vk_autonomous` checked) блокирует тональности. | ВКонтакте | |
| 6.3 | Проверить логику других платформ: при снятом автономном режиме, выбор тональности блокирует автономный режим. | Telegram, 2GIS, Яндекс | Взаимозависимость чекбоксов. |
| 6.4 | **Критический:** Проверить валидацию: нельзя сохранить, если автономный режим отключен, и все тональные чекбоксы сняты. | Все | Должен появиться `alert` с ошибкой. |

### `7. Адаптивность и отображение на мобильных устройствах`

| № | Описание проверки | Тип | Особенности |
|---|---|---|---|
| 7.1 | Проверить отсутствие горизонтальной прокрутки на узких экранах. | Адаптивность | |
| 7.2 | Проверить перенос и корректное отображение фильтров и сортировки на мобильных устройствах. | Адаптивность | |
| 7.3 | Проверить, что кнопки управления ответами ("Подтвердить", "Редактировать", "Отклонить") отображаются в столбец. | Адаптивность | |
| 7.4 | Проверить, что длинные тексты (комментарии, ответы) корректно переносятся. | Адаптивность | |
| 7.5 | Проверить скрытие кнопки обновления счетчиков в мобильной версии. | Адаптивность | |

## Часть 2: Поиск проблем в интерфейсе
### Задача 2:
На основе анализа HTML-кода найдите и опишите 3 потенциальные проблемы с юзабилити или функциональностью. Для каждой проблемы укажите:

Местоположение: Где находится проблема (элемент, секция)
Описание: В чем заключается проблема
Влияние: Как это может повлиять на пользователя
Рекомендация: Как это можно исправить
Пример проблемы:

Местоположение: Кнопки “Подтвердить”, “Редактировать”, “Отклонить” в мобильной версии
Описание: Кнопки расположены вертикально и занимают много места
Влияние: Пользователю приходится много скроллить для просмотра всех ответов
Рекомендация: Сделать кнопки компактнее или расположить горизонтально с адаптивным размером

## Ответ:

## Часть 2: Поиск проблем с юзабилити и функциональностью

| Местоположение | Описание | Влияние | Рекомендация |
| :--- | :--- | :--- | :--- |
| **Функционал поиска и WebSocket** | Если в любом поле поиска присутствует текст, все автоматические обновления контента (через WebSocket и 30-сек интервал) полностью останавливаются. | **Критическая потеря актуальности:** Модератор, выполняющий поиск, не увидит новые, срочные ответы в потоке, пока не очистит или не скроет поле поиска. | Разрешить **получение** данных через WebSocket, но блокировать **перерисовку** DOM, пока активен поиск. После очистки поля — выполнить однократное обновление. |
| **Клиентский поиск на больших объемах данных** | Поиск (`performClientSearch`) реализован как фильтр по уже загруженным элементам DOM, а не как серверный запрос. | **Ограничение функционала:** Если на вкладке загружается только ограниченное количество последних записей, поиск по всей истории потока становится невозможным. | **Перевести поиск на сервер:** При вводе запроса отправлять AJAX-запрос на сервер с параметром `search`, чтобы всегда искать по всей базе данных. |
| **Логика и юзабилити чекбоксов в "Настройках системы"** | Для платформ, где автономный режим по умолчанию отключен, его чекбокс жестко заблокирован (`disabled=""`). При этом, если пользователь снимет все чекбоксы тональности, валидация требует выбрать режим, что невозможно из-за блокировки автономного режима. | **Тупик в UX:** Пользователь не может сохранить настройки, если он снял все флаги модерации, потому что заблокированный флаг автономного режима не дает выбрать альтернативу, и возникает ошибка валидации. | **Исправить валидацию:** Исключить из проверки доступности те чекбоксы, которые имеют атрибут `disabled`. Или удалить атрибут `disabled` и управлять состоянием чекбоксов через серверную логику. |

## Часть 3: Тестирование сценариев пользователя
### Задача 3:
Опишите тестовые сценарии для следующих пользовательских действий:

Сценарий 1: Модератор хочет быстро найти все негативные комментарии от конкретного пользователя

Какие шаги должен выполнить пользователь?
Какие элементы интерфейса будут задействованы?
Что может пойти не так?
Сценарий 2: Модератор редактирует автоматический ответ и затем подтверждает его

Какая последовательность действий?
Какие состояния интерфейса должны меняться?
Как проверить, что редактирование сохранилось корректно?
Сценарий 3: Экстренная остановка всех ботов

Что должно происходить при переключении тумблера?
Какие сообщения должны отображаться?
Как проверить, что боты действительно остановились?

## Ответ:

### Сценарий 1: Модератор хочет быстро найти все негативные комментарии от конкретного пользователя

Цель: Проверить комбинацию фильтрации по типу ответа и функционала поиска, а также корректность отображения результатов.

| Шаг | Действие пользователя | Ожидаемый результат | Возможные проблемы (Что может пойти не так?) |
| :--- | :--- | :--- | :--- |
| **1. Навигация** | Переключиться на вкладку "Комментарии" (`#comments`). | Вкладка "Комментарии" активируется, список обновляется. | Проблема с сохранением активной вкладки при перезагрузке (если произошло). |
| **2. Поиск (Активация)** | Нажать кнопку "Поиск" (`#toggleSearch`). | Должно появиться поле ввода (`#searchInput`). Текст кнопки меняется на "Скрыть". | |
| **3. Поиск (Ввод)** | Ввести имя или часть имени пользователя (например, `"Сергей Нифонтов"`) в поле поиска. | 1. **Критично:** WebSocket-обновления прекращаются (`stopWebSocketUpdates()`).<br>2. Применяется клиентский поиск (`performClientSearch`), отображаются только релевантные ответы. | **Проблема 1 (из Части 2):** Обновления не остановились, что приводит к потере данных. |
| **4. Проверка результатов** | Визуально просмотреть отфильтрованный список. | Имя пользователя в списке результатов должно быть подсвечено (`.search-highlight`). | Если записи не загружены полностью (Проблема 2 из Части 2), поиск не находит старые комментарии. |
| **5. Фильтрация по тональности** | Модератор визуально ищет негативные комментарии (по значку `badge bg-danger`). | Тональность должна быть явно указана для каждой записи и соответствовать негативному спектру (1-5). | Отсутствие визуального выделения тональности, замедляющее работу. |

### Сценарий 2: Модератор редактирует автоматический ответ и затем подтверждает его.

 Цель: Проверить полный цикл работы с ответом: вход в режим редактирования, сохранение изменений, блокировка обновлений и финальное подтверждение отредактированного варианта.

 | Шаг | Действие пользователя | Ожидаемый результат | Изменения состояния интерфейса |
| :--- | :--- | :--- | :--- |
| **1. Вход в редактирование** | Нажать кнопку "Редактировать" (`.edit-btn`). | Скрывается просмотр, появляется `textarea` и кнопки "Сохранить"/"Отмена". | `edit_` становится `1`. **WebSocket обновления остановлены.** |
| **2. Изменение текста** | Изменить текст в `textarea`. | Введенный текст отображается в поле. | |
| **3. Сохранение** | Нажать кнопку "Сохранить" (`.save-edit-btn`). | 1. Отправлен POST-запрос на `/api/edit_response`.<br>2. Обновленный текст отображается в блоке просмотра. | Кнопка "Подтвердить" получает `data-approved="3"`. **WebSocket обновления возобновлены.** |
| **4. Финальное подтверждение** | Нажать кнопку "Подтвердить" (`.approve-btn`). | 1. Отправлен POST-запрос на `/approve_response_api`.<br>2. Запрос должен содержать отредактированный текст (`new_response`) и `approved: 3`. | Элемент списка исчезает, счетчик уменьшается. |
| **5. Валидация** | (Negative Case) На шаге 2 очистить `textarea` и нажать "Сохранить". | Должен появиться `alert('Ответ не может быть пустым.')`. | Сохранение блокируется, форма остается открытой. |

### Сценарий 3: Экстренная остановка всех ботов.

Цель: Проверить критически важный функционал немедленной остановки генерации ответов и корректность индикации состояния.

| Шаг | Действие пользователя | Ожидаемый результат | Сообщения и проверка |
| :--- | :--- | :--- | :--- |
| **1. Инициация остановки** | Включить тумблер "Экстренная остановка ботов" (`#botToggle`). | Тумблер переходит в положение "Вкл". | При успехе: `alert('Боты остановлены')`. |
| **2. Проверка API** | Проверить сетевые запросы. | Отправлены два `fetch` запроса (`/stop/.../bot` и `/stop/.../vk_bot`). | Оба запроса должны быть успешными (200 OK). |
| **3. Индикация** | Визуально оценить тумблер. | Тумблер должен быть окрашен в красный цвет (`background-color: #ff0000;`). | |
| **4. Внешняя проверка** | Ожидание 5-10 минут. | В потоке не должны появляться новые ответы, сгенерированные ботами. | Если новые записи появились, это критический сбой. |
| **5. Возобновление работы (Запуск)** | Выключить тумблер. | Тумблер возвращается в положение "Выкл" и нейтральный цвет. | При успехе: `alert('Боты запущены')`. Отправлены два запроса `/start/...`. |
| **6. Обработка ошибки** | (Negative Case) Имитировать ошибку API при остановке. | Тумблер должен автоматически откатиться в исходное состояние (выключен). | Должен появиться `alert('Ошибка при остановке ботов')`. |


## Часть 4: Баг-репортинг
### Задача 4:
Представьте, что при тестировании вы обнаружили следующую проблему:

Проблема: При редактировании ответа и последующем обновлении страницы (или переключении вкладок) отредактированный текст не сохраняется - отображается исходный вариант ответа.

Опишите эту проблему в виде формального баг-репорта:

Заголовок:
Шаги воспроизведения:
3.Фактический результат:
Ожидаемый результат:
Серьезность/Приоритет:
Окружение (если применимо):

## Ответ:

###  Часть 4: Баг-репортинг

Баг-репорт: Несохранение отредактированного текста при навигации/перезагрузке.

| Поле | Содержание |
| :--- | :--- |
| **Заголовок** | **[Баг] Отредактированный текст ответа не сохраняется после сохранения и теряется при перезагрузке страницы.** |
| **Шаги воспроизведения** | 1. Открыть интерфейс "Поток" (на любой вкладке, где есть pending-ответы).<br>2. Найти ответ и нажать кнопку "**Редактировать**".<br>3. Внести существенные изменения в текст в `textarea` (например, "Новый, отредактированный текст").<br>4. Нажать кнопку "**Сохранить**".<br>5. Убедиться, что форма редактирования скрылась, и в блоке просмотра отображается новый текст (`data-approved="3"`).<br>6. **Выполнить принудительное обновление страницы** (F5) или переключиться на другую вкладку и вернуться обратно. |
| **Фактический результат** | После обновления страницы ответ отображает **исходный** (автоматически сгенерированный) текст бота. Изменения, внесенные модератором и сохраненные на шаге 4, потеряны. |
| **Ожидаемый результат** | Отредактированный текст ответа должен быть сохранен на сервере при нажатии кнопки "**Сохранить**". При последующем обновлении страницы должен отображаться последний сохраненный, отредактированный модератором текст. |
| **Серьезность/Приоритет** | **Серьезность:** High (Высокая)<br>**Приоритет:** High (Высокий)<br> *Обоснование: Прямая потеря работы модератора, что блокирует корректное утверждение исправленных ответов.* |
| **Окружение** | **Система "Эго":** Интерфейс "Поток" (`/billing`).<br>**Версия Клона:** 18.<br>**Браузер:** [Указать точный браузер и версию].<br>**ОС:** [Указать ОС]. |


### Часть 5: Рекомендации по улучшению
## Задача 5:
Предложите 2-3 улучшения для интерфейса “Поток”, которые могли бы ускорить работу модераторов. Обоснуйте, почему эти улучшения будут полезны.

Пример:
Массовые действия - возможность выбирать несколько ответов и подтверждать/отклонять их разом
Горячие клавиши - использование клавиатуры для быстрых действий
Предпросмотр - как будет выглядеть ответ в интерфейсе соцсети

## Ответ:

## Часть 5: Рекомендации по улучшению интерфейса “Поток”

### Улучшение 1: Внедрение горячих клавиш (Keyboard Shortcuts)

| Улучшение | Описание | Обоснование пользы |
|---|---|---|
| **Горячие клавиши** (A/R/E/Ctrl+S) | Назначить клавиши для "Подтвердить", "Отклонить", "Редактировать" и "Сохранить". | Повышение скорости модерации за счет работы с клавиатурой. |

### Улучшение 2: Массовые действия (Пакетная модерация)

| Улучшение | Описание | Обоснование пользы |
|---|---|---|
| **Чекбоксы и панель массовых действий** | Добавить чекбоксы для выбора нескольких ответов и общую панель с кнопками "Подтвердить выбранные", "Отклонить выбранные". | Снижение рутинной нагрузки при обработке однотипных ответов. |

### Улучшение 3: Визуальный предпросмотр платформы и тональности

| Улучшение | Описание | Обоснование пользы |
|---|---|---|
| **Улучшенная визуализация тональности и платформы** | Добавить цветной индикатор тональности и крупные иконки платформ (VK, Yandex, 2GIS) рядом с ответом, а также прямой переход к источнику. | Ускорение принятия решений за счет мгновенного считывания важной информации. |















